{"ast":null,"code":"import _toConsumableArray from \"/home/asim/Documents/LUMS/Semester_6/Snake_Game/snake_game/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/asim/Documents/LUMS/Semester_6/Snake_Game/snake_game/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createInterval, flyingObjectsStarterYAxis, maxFlyingObjects, flyingObjectsStarterPositions } from '../utils/constants';\nexport default (function (state) {\n  if (!state.gameState.started) return state; // game not running\n\n  var now = new Date().getTime();\n  var _state$gameState = state.gameState,\n      lastObjectCreatedAt = _state$gameState.lastObjectCreatedAt,\n      flyingObjects = _state$gameState.flyingObjects;\n  var createNewObject = now - lastObjectCreatedAt.getTime() > createInterval && flyingObjects.length < maxFlyingObjects;\n  if (!createNewObject) return state; // no need to create objects now\n\n  var id = new Date().getTime();\n  var predefinedPosition = Math.floor(Math.random() * maxFlyingObjects);\n  var flyingObjectPosition = flyingObjectsStarterPositions[predefinedPosition];\n  var newFlyingObject = {\n    position: {\n      x: flyingObjectPosition,\n      y: flyingObjectsStarterYAxis\n    },\n    createdAt: new Date().getTime(),\n    id: id\n  };\n  return _objectSpread({}, state, {\n    gameState: _objectSpread({}, state.gameState, {\n      flyingObjects: [].concat(_toConsumableArray(state.gameState.flyingObjects), [newFlyingObject]),\n      lastObjectCreatedAt: new Date()\n    })\n  });\n});","map":{"version":3,"sources":["/home/asim/Documents/LUMS/Semester_6/Snake_Game/snake_game/client/src/reducers/createFlyingObjects.js"],"names":["createInterval","flyingObjectsStarterYAxis","maxFlyingObjects","flyingObjectsStarterPositions","state","gameState","started","now","Date","getTime","lastObjectCreatedAt","flyingObjects","createNewObject","length","id","predefinedPosition","Math","floor","random","flyingObjectPosition","newFlyingObject","position","x","y","createdAt"],"mappings":";;AAAA,SACEA,cADF,EACkBC,yBADlB,EAC6CC,gBAD7C,EAEEC,6BAFF,QAGO,oBAHP;AAKA,gBAAe,UAACC,KAAD,EAAW;AACxB,MAAK,CAAEA,KAAK,CAACC,SAAN,CAAgBC,OAAvB,EAAgC,OAAOF,KAAP,CADR,CACsB;;AAE9C,MAAMG,GAAG,GAAI,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAZ;AAHwB,yBAIuBL,KAAK,CAACC,SAJ7B;AAAA,MAIhBK,mBAJgB,oBAIhBA,mBAJgB;AAAA,MAIKC,aAJL,oBAIKA,aAJL;AAKxB,MAAMC,eAAe,GACnBL,GAAG,GAAIG,mBAAD,CAAsBD,OAAtB,EAAN,GAAwCT,cAAxC,IACAW,aAAa,CAACE,MAAd,GAAuBX,gBAFzB;AAKA,MAAK,CAAEU,eAAP,EAAwB,OAAOR,KAAP,CAVA,CAUc;;AAEtC,MAAMU,EAAE,GAAI,IAAIN,IAAJ,EAAD,CAAaC,OAAb,EAAX;AACA,MAAMM,kBAAkB,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBhB,gBAA3B,CAA3B;AACA,MAAMiB,oBAAoB,GAAGhB,6BAA6B,CAACY,kBAAD,CAA1D;AACA,MAAMK,eAAe,GAAG;AACtBC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,CAAC,EAAEH,oBADK;AAERI,MAAAA,CAAC,EAAEtB;AAFK,KADY;AAKtBuB,IAAAA,SAAS,EAAG,IAAIhB,IAAJ,EAAD,CAAaC,OAAb,EALW;AAMtBK,IAAAA,EAAE,EAAFA;AANsB,GAAxB;AASA,2BACKV,KADL;AAEEC,IAAAA,SAAS,oBACJD,KAAK,CAACC,SADF;AAEPM,MAAAA,aAAa,+BACRP,KAAK,CAACC,SAAN,CAAgBM,aADR,IAEXS,eAFW,EAFN;AAMPV,MAAAA,mBAAmB,EAAE,IAAIF,IAAJ;AANd;AAFX;AAWD,CAnCD","sourcesContent":["import {\n  createInterval, flyingObjectsStarterYAxis, maxFlyingObjects,\n  flyingObjectsStarterPositions\n} from '../utils/constants';\n\nexport default (state) => {\n  if ( ! state.gameState.started) return state; // game not running\n\n  const now = (new Date()).getTime();\n  const { lastObjectCreatedAt, flyingObjects } = state.gameState;\n  const createNewObject = (\n    now - (lastObjectCreatedAt).getTime() > createInterval &&\n    flyingObjects.length < maxFlyingObjects\n  );\n\n  if ( ! createNewObject) return state; // no need to create objects now\n\n  const id = (new Date()).getTime();\n  const predefinedPosition = Math.floor(Math.random() * maxFlyingObjects);\n  const flyingObjectPosition = flyingObjectsStarterPositions[predefinedPosition];\n  const newFlyingObject = {\n    position: {\n      x: flyingObjectPosition,\n      y: flyingObjectsStarterYAxis,\n    },\n    createdAt: (new Date()).getTime(),\n    id,\n  };\n\n  return {\n    ...state,\n    gameState: {\n      ...state.gameState,\n      flyingObjects: [\n        ...state.gameState.flyingObjects,\n        newFlyingObject\n      ],\n      lastObjectCreatedAt: new Date(),\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}